"use strict";(self.webpackChunkwblog=self.webpackChunkwblog||[]).push([[9264],{63984:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>d,default:()=>x,frontMatter:()=>c,metadata:()=>l,toc:()=>p});const l=JSON.parse('{"type":"mdx","permalink":"/CoverGenerator","source":"@site/src/pages/CoverGenerator.mdx","title":"\u5c01\u9762\u56fe\u751f\u6210\u5668","frontMatter":{},"unlisted":false}');var o=n(25105),a=n(69578),r=n(58101);const s={container:"container_KUyZ",previewSection:"previewSection_r65a",coverPreview:"coverPreview_tj9f",coverContent:"coverContent_H49b",coverIcon:"coverIcon_gKvq",coverTitle:"coverTitle_s8Gl",coverSubtitle:"coverSubtitle_luAf",controlSection:"controlSection_KaAG",inputControls:"inputControls_AjMe",exportControls:"exportControls_Tkyp",controlGroup:"controlGroup_hbLO",slider:"slider_Fhpy",uploadContainer:"uploadContainer_Wkm_",uploadButton:"uploadButton_QegS",removeButton:"removeButton_GIUT",qualityHint:"qualityHint_u67W",exportInfo:"exportInfo_opaM",downloadButton:"downloadButton_mRu2",spinner:"spinner_aGg9",spin:"spin_gXac"};function i(){const[e,t]=(0,r.useState)("\u6280\u672f\u6587\u6863\u6807\u9898"),[n,l]=(0,r.useState)("\u526f\u6807\u9898\u63cf\u8ff0"),[a,i]=(0,r.useState)("#2563eb"),[c,d]=(0,r.useState)("#7c3aed"),[u,p]=(0,r.useState)(!0),[h,x]=(0,r.useState)("circuit"),[v,j]=(0,r.useState)("16/9"),[m,g]=(0,r.useState)(800),[f,C]=(0,r.useState)(null),[b,N]=(0,r.useState)(!1),[S,y]=(0,r.useState)(1.5),[w,k]=(0,r.useState)("cover"),G=(0,r.useRef)(null),_=(0,r.useRef)(null),P=m/{"16/9":{ratio:16/9},"4/3":{ratio:4/3},"1/1":{ratio:1},A4:{ratio:210/297}}[v].ratio;return(0,o.jsxs)("div",{className:s.container,children:[(0,o.jsx)("div",{className:s.previewSection,children:(0,o.jsx)("div",{ref:G,className:s.coverPreview,style:{width:`${m}px`,height:`${P}px`,background:u?`linear-gradient(135deg, ${a}, ${c})`:a,backgroundImage:{circuit:"linear-gradient(135deg, #00000010 25%, transparent 25%) 0 0/40px 40px",grid:"repeating-linear-gradient(0deg, #00000010 0 1px, transparent 1px 20px)",dots:"radial-gradient(circle at 10px 10px, #00000010 1px, transparent 0) 0 0/20px 20px",none:"none"}[h]},children:(0,o.jsxs)("div",{className:s.coverContent,children:[f&&(0,o.jsx)("img",{src:f,alt:"\u5c01\u9762\u56fe\u6807",className:s.coverIcon}),(0,o.jsx)("h1",{className:s.coverTitle,children:e}),(0,o.jsx)("p",{className:s.coverSubtitle,children:n})]})})}),(0,o.jsxs)("div",{className:s.controlSection,children:[(0,o.jsxs)("div",{className:s.inputControls,children:[(0,o.jsx)("h3",{children:"\u5185\u5bb9\u8bbe\u7f6e"}),(0,o.jsxs)("div",{className:s.controlGroup,children:[(0,o.jsx)("label",{children:"\u4e3b\u6807\u9898"}),(0,o.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value)})]}),(0,o.jsxs)("div",{className:s.controlGroup,children:[(0,o.jsx)("label",{children:"\u526f\u6807\u9898"}),(0,o.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value)})]}),(0,o.jsxs)("div",{className:s.controlGroup,children:[(0,o.jsx)("label",{children:"\u4e0a\u4f20\u56fe\u6807"}),(0,o.jsxs)("div",{className:s.uploadContainer,children:[(0,o.jsx)("button",{onClick:()=>_.current.click(),className:s.uploadButton,children:f?"\u66f4\u6362\u56fe\u6807":"\u9009\u62e9\u56fe\u6807"}),(0,o.jsx)("input",{type:"file",ref:_,onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{C(e.target.result)},e.readAsDataURL(t)}},accept:"image/*",style:{display:"none"}}),f&&(0,o.jsx)("button",{onClick:()=>C(null),className:s.removeButton,children:"\u79fb\u9664"})]})]}),(0,o.jsx)("h3",{children:"\u6837\u5f0f\u8bbe\u7f6e"}),(0,o.jsxs)("div",{className:s.controlGroup,children:[(0,o.jsx)("label",{children:"\u5bbd\u9ad8\u6bd4"}),(0,o.jsxs)("select",{value:v,onChange:e=>j(e.target.value),children:[(0,o.jsx)("option",{value:"16/9",children:"16:9 (\u5bbd\u5c4f)"}),(0,o.jsx)("option",{value:"4/3",children:"4:3 (\u4f20\u7edf)"}),(0,o.jsx)("option",{value:"1/1",children:"1:1 (\u65b9\u5f62)"}),(0,o.jsx)("option",{value:"A4",children:"A4 (\u6587\u6863)"})]})]}),(0,o.jsxs)("div",{className:s.controlGroup,children:[(0,o.jsxs)("label",{children:["\u9884\u89c8\u5bbd\u5ea6: ",m,"px"]}),(0,o.jsx)("input",{type:"range",min:"400",max:"1200",step:"50",value:m,onChange:e=>g(parseInt(e.target.value)),className:s.slider})]}),(0,o.jsx)("div",{className:s.controlGroup,children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:u,onChange:e=>p(e.target.checked)}),"\u4f7f\u7528\u6e10\u53d8\u8272"]})}),(0,o.jsxs)("div",{className:s.controlGroup,children:[(0,o.jsx)("label",{children:u?"\u8d77\u59cb\u989c\u8272":"\u80cc\u666f\u8272"}),(0,o.jsx)("input",{type:"color",value:a,onChange:e=>i(e.target.value)})]}),u&&(0,o.jsxs)("div",{className:s.controlGroup,children:[(0,o.jsx)("label",{children:"\u7ed3\u675f\u989c\u8272"}),(0,o.jsx)("input",{type:"color",value:c,onChange:e=>d(e.target.value)})]}),(0,o.jsxs)("div",{className:s.controlGroup,children:[(0,o.jsx)("label",{children:"\u80cc\u666f\u56fe\u6848"}),(0,o.jsxs)("select",{value:h,onChange:e=>x(e.target.value),children:[(0,o.jsx)("option",{value:"circuit",children:"\u7535\u8def\u677f"}),(0,o.jsx)("option",{value:"grid",children:"\u7f51\u683c"}),(0,o.jsx)("option",{value:"dots",children:"\u5706\u70b9"}),(0,o.jsx)("option",{value:"none",children:"\u65e0\u56fe\u6848"})]})]})]}),(0,o.jsxs)("div",{className:s.exportControls,children:[(0,o.jsx)("h3",{children:"\u5bfc\u51fa\u8bbe\u7f6e"}),(0,o.jsxs)("div",{className:s.controlGroup,children:[(0,o.jsx)("label",{children:"\u6587\u4ef6\u540d"}),(0,o.jsx)("input",{type:"text",value:w,onChange:e=>k(e.target.value),placeholder:"cover"})]}),(0,o.jsxs)("div",{className:s.controlGroup,children:[(0,o.jsxs)("label",{children:["\u5bfc\u51fa\u8d28\u91cf: ",S,"x"]}),(0,o.jsx)("input",{type:"range",min:"1",max:"3",step:"0.5",value:S,onChange:e=>y(parseFloat(e.target.value)),className:s.slider}),(0,o.jsx)("div",{className:s.qualityHint,children:1===S?"\u6807\u51c6":1.5===S?"\u9ad8\u6e05":"\u8d85\u6e05"})]}),(0,o.jsxs)("div",{className:s.exportInfo,children:[(0,o.jsxs)("p",{children:["\u6700\u7ec8\u5c3a\u5bf8: ",Math.round(m*S),"\xd7",Math.round(P*S),"px"]}),(0,o.jsx)("p",{children:"\u6587\u4ef6\u683c\u5f0f: PNG"})]}),(0,o.jsx)("button",{onClick:()=>{N(!0),setTimeout((()=>{const t=document.createElement("canvas"),l=S,o=m*l,r=P*l;t.width=o,t.height=r;const s=t.getContext("2d");if(s.scale(l,l),u){const e=s.createLinearGradient(0,0,m,P);e.addColorStop(0,a),e.addColorStop(1,c),s.fillStyle=e}else s.fillStyle=a;if(s.fillRect(0,0,m,P),"none"!==h){const e=document.createElement("canvas"),t=e.getContext("2d");if(e.width=40,e.height=40,"circuit"===h)t.fillStyle="#00000010",t.fillRect(0,0,20,20),t.fillRect(20,20,20,20);else if("grid"===h){t.strokeStyle="#00000010",t.lineWidth=1;for(let e=0;e<=40;e+=5)t.beginPath(),t.moveTo(0,e),t.lineTo(40,e),t.stroke(),t.beginPath(),t.moveTo(e,0),t.lineTo(e,40),t.stroke()}else"dots"===h&&(t.fillStyle="#00000010",t.beginPath(),t.arc(10,10,2,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(30,10,2,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(10,30,2,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(30,30,2,0,2*Math.PI),t.fill());const n=s.createPattern(e,"repeat");s.fillStyle=n,s.fillRect(0,0,m,P)}if(s.fillStyle="#ffffff",s.font=`bold ${m/20}px sans-serif`,s.textAlign="center",s.textBaseline="middle",s.fillText(e,m/2,P/2-40),s.font=m/40+"px sans-serif",s.fillText(n,m/2,P/2+40),f){const e=new Image;e.onload=()=>{const n=m/5;s.drawImage(e,m/2-n/2,P/4-n/2,n,n);const l=document.createElement("a");l.download=`${w||"cover"}.png`,l.href=t.toDataURL("image/png"),l.click(),N(!1)},e.src=f}else{const e=document.createElement("a");e.download=`${w||"cover"}.png`,e.href=t.toDataURL("image/png"),e.click(),N(!1)}}),100)},disabled:b,className:s.downloadButton,children:b?(0,o.jsx)("span",{className:s.spinner}):"\u7acb\u5373\u5bfc\u51fa"})]})]})]})}const c={},d="\u5c01\u9762\u56fe\u751f\u6210\u5668",u={},p=[];function h(e){const t={h1:"h1",header:"header",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"\u5c01\u9762\u56fe\u751f\u6210\u5668",children:"\u5c01\u9762\u56fe\u751f\u6210\u5668"})}),"\n",(0,o.jsx)(i,{})]})}function x(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},69578:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var l=n(58101);const o={},a=l.createContext(o);function r(e){const t=l.useContext(a);return l.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),l.createElement(a.Provider,{value:t},e.children)}}}]);